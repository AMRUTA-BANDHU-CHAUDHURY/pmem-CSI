export CSI_ENDPOINT=tcp://127.0.0.1:10000

# Below are simple "one namespace lifecycle" steps for trial on a single host,
# can be used to verify some main functions.

$GOPATH/bin/csc controller create-volume --req-bytes 33554432 --cap SINGLE_NODE_WRITER,block nspace1
$GOPATH/bin/csc controller publish --node-id c87ec8bf-cc70-11e8-8580-525400a0ae35 --cap SINGLE_NODE_WRITER,mount,xfs --attrib name=nspace1,size=32000000 nspace1
$GOPATH/bin/csc node stage nspace1 --cap SINGLE_NODE_WRITER,mount,xfs --staging-target-path /tmp/stage1 --attrib name=nspace1
$GOPATH/bin/csc node publish nspace1 --cap SINGLE_NODE_WRITER,mount,xfs --staging-target-path /tmp/stage1 --target-path /tmp/target1
$GOPATH/bin/csc node unpublish nspace1 --target-path /tmp/target1
$GOPATH/bin/csc node unstage nspace1 --staging-target-path /tmp/stage1
$GOPATH/bin/csc controller unpublish nspace1

### just as example what else is implemented in driver,
### the 2 commands below are not part of above lifecycle.
### anyhow, it does not harm to run this whole file as one script

# Check driver-reported capabilities
$GOPATH/bin/csc controller get-capabilities
$GOPATH/bin/csc node get-capabilities
